<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wxyz Capstone Title & Idea Generator</title>
  <meta name="description" content="Generate Capstone project titles & ideas (Hardware / Software / Hybrid)." />
  <link rel="icon" type="image/png" href="logo.png" />
  <style>
    /* ====== Base & Reset ====== */
    :root{
      --bg: #f5f7fb;
      --card: #ffffff;
      --muted: #6b7280;
      --accent: #2563eb; /* blue */
      --accent-600: #1e40af;
      --glass: rgba(255,255,255,0.6);
      --shadow: 0 6px 20px rgba(32,41,56,0.08);
      --radius: 14px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%; margin:0; background:linear-gradient(180deg,var(--bg),#eef2ff 60%); color:#0f172a}

    /* ====== Layout ====== */
    .wrap{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
    }

    .card{
      width:100%;
      max-width:980px;
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:28px;
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:22px;
      align-items:start;
      overflow:hidden;
    }

    /* single-column on mobile */
    @media (max-width:880px){
      .card{grid-template-columns:1fr; padding:18px}
    }

    header .logo{
      display:flex; gap:12px; align-items:center; margin-bottom:6px
    }
    .brand-mark{width:46px;height:46px;border-radius:10px;display:grid;place-items:center;background:linear-gradient(135deg,var(--accent),var(--accent-600));color:white;font-weight:700}
    h1{font-size:20px;margin:0}
    p.lead{color:var(--muted);margin:6px 0 18px}

    /* ====== Controls ====== */
    .controls{display:flex;flex-direction:column;gap:12px}
    .seg{background:#f8fafc;border-radius:10px;padding:8px;display:flex;gap:8px;align-items:center}
    .seg label{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:8px;cursor:pointer;font-size:14px}
    .seg input[type=radio]{accent-color:var(--accent)}

    .btn-row{display:flex;gap:10px;align-items:center}
    button.btn{
      background:var(--accent);
      border:none;color:white;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(37,99,235,0.18);
      transition:transform .12s ease, box-shadow .12s ease, opacity .12s ease;
    }
    button.btn:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(37,99,235,0.16)}
    button.ghost{background:transparent;color:var(--accent);border:1.5px solid rgba(37,99,235,0.12)}

    /* Result area */
    .result{
      background:linear-gradient(180deg, rgba(37,99,235,0.04), rgba(14,165,233,0.02));
      border-radius:12px;padding:16px;min-height:120px;display:flex;flex-direction:column;gap:10px;align-items:flex-start;justify-content:center;opacity:0;transform:translateY(6px);transition:all .36s cubic-bezier(.2,.9,.3,1);
    }
    .result.show{opacity:1;transform:none}
    .result h2{margin:0;font-size:16px}
    .result p.idea{margin:0;color:#111827}
    .actions{display:flex;gap:8px;align-items:center;margin-top:8px}

    /* Related links */
    .links{display:flex;flex-direction:column;gap:8px;margin-top:8px}
    .links a{font-size:14px;color:var(--accent);text-decoration:none}
    .links a:hover{text-decoration:underline}

    /* Right column (history & tips) */
    .side{
      background:linear-gradient(180deg,#fbfdff 0%, #ffffff 100%);
      border-radius:12px;padding:14px;box-shadow:inset 0 1px 0 rgba(255,255,255,0.6);
      display:flex;flex-direction:column;gap:10px;height:100%;
    }
    .side h3{margin:0 0 6px 0;font-size:15px}
    .saved{
      overflow:auto;max-height:420px;padding-right:6px;display:flex;flex-direction:column;gap:8px
    }
    .saved .item{padding:10px;border-radius:10px;background:#fbfbff;border:1px solid rgba(15,23,42,0.04);display:flex;justify-content:space-between;gap:8px;align-items:flex-start}
    .saved .meta{font-size:13px;color:var(--muted)}
    .small{font-size:13px;color:var(--muted)}

    .collapsible{border-radius:10px;overflow:hidden;border:1px solid rgba(15,23,42,0.04)}
    .collapsible summary{list-style:none;padding:10px 12px;cursor:pointer;font-weight:600}
    .collapsible summary::-webkit-details-marker{display:none}

    footer{grid-column:1/-1;text-align:center;padding-top:6px;color:var(--muted);font-size:14px}

    /* tiny utility */
    .muted{color:var(--muted)}
    .nowrap{white-space:nowrap}
    .pill{background:#eef2ff;padding:6px 9px;border-radius:999px;font-weight:600;font-size:13px;color:var(--accent)}

    /* animations for list items */
    .saved .item{animation:fadeIn .28s ease both}
    @keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

  </style>
</head>
<body>
  <div class="wrap">
    <main class="card" role="main">
      <!-- LEFT: Generator -->
      <section>
        <div class="logo">
          <div class="brand-mark">W</div>
          <div>
            <h1>Wxyz Capstone Title &amp; Idea Generator</h1>
            <p class="lead">Choose a project type, press generate — get title, idea, and related studies instantly.</p>
          </div>
        </div>

        <div class="controls" aria-label="controls">
          <div>
            <label class="small">Project Type</label>
            <div class="seg" role="radiogroup" aria-label="project type">
              <label><input type="radio" name="kind" value="software" checked> Pure Software</label>
              <label><input type="radio" name="kind" value="hardware"> Pure Hardware</label>
              <label><input type="radio" name="kind" value="hybrid"> Both</label>
            </div>
          </div>

          <div class="btn-row">
            <button class="btn" id="generateBtn">Generate Idea</button>
            <button class="ghost" id="saveBtn">Save Last</button>
            <button class="ghost" id="clearBtn">Clear History</button>
          </div>

          <div class="muted">Tip: Generate multiple times — saved ideas persist in your browser.</div>
        </div>

        <div id="result" class="result" aria-live="polite">
          <h2 id="title">Your generated title will appear here</h2>
          <p id="idea" class="idea muted">Generated idea / short description will appear here.</p>

          <div class="actions">
            <button class="btn" id="copyBtn">Copy</button>
            <button class="ghost" id="openLinksBtn">Open All Links</button>
          </div>

          <div class="links" id="relatedLinks" aria-label="related studies"></div>
        </div>

      </section>

      <!-- RIGHT: Sidebar: history + info -->
      <aside class="side">
        <div>
          <h3>Saved Ideas</h3>
          <details class="collapsible" open>
            <summary>History (click to collapse)</summary>
            <div class="saved" id="savedList">
              <!-- populated by JS -->
            </div>
          </details>
        </div>

        <div>
          <h3>How it works</h3>
          <p class="small">This is a frontend-only generator. Items are randomly selected from built-in lists. Related studies are suggested links (Google Scholar / GitHub / IEEE) mapped to the selected idea.</p>
        </div>

        <div style="margin-top:auto;text-align:center">
          <div class="small muted">Built for quick ideation • No backend required</div>
        </div>
      </aside>

      <footer>
        Made With ❤️ By Steven Macapañas
      </footer>
    </main>
  </div>

  <script>
    // ======== Data: Predefined titles, ideas, and related links ========
    // Each category contains objects with title, idea (short), and related links array.
    const DATA = {
      software: [
        {
          title: 'Smart Attendance System with Facial Recognition',
          idea: 'A web/mobile app that uses facial recognition to mark student attendance, integrates with school MIS, and generates attendance analytics.',
          links: [
            'https://scholar.google.com/scholar?q=facial+recognition+attendance+system',
            'https://github.com/search?q=facial+recognition+attendance',
            'https://ieeexplore.ieee.org/search/searchresult.jsp?newsearch=true&queryText=attendance%20facial%20recognition'
          ]
        },
        {
          title: 'E-Learning Platform with Adaptive Quiz Generator',
          idea: 'An adaptive learning web app that generates quizzes based on student performance and provides spaced repetition scheduling.',
          links: [
            'https://scholar.google.com/scholar?q=adaptive+learning+quiz+generator',
            'https://github.com/search?q=adaptive+learning',
            'https://www.researchgate.net/search?q=adaptive%20learning'
          ]
        },
        {
          title: 'Mobile Disaster Alert & Volunteer Coordination App',
          idea: 'A cross-platform app to send localized disaster alerts, map safe centers, and coordinate volunteer tasks in real-time.',
          links: [
            'https://scholar.google.com/scholar?q=disaster+alert+mobile+app',
            'https://github.com/search?q=disaster+response+app',
            'https://www.researchgate.net/search?q=disaster%20management%20mobile'
          ]
        }
      ],
      hardware: [
        {
          title: 'IoT-based Smart Poultry Monitoring System',
          idea: 'Sensor nodes (temp, humidity, weight) with a gateway sending data to a dashboard to monitor flock health and automate feeders.',
          links: [
            'https://scholar.google.com/scholar?q=iot+poultry+monitoring',
            'https://github.com/search?q=iot+poultry',
            'https://ieeexplore.ieee.org/search/searchresult.jsp?newsearch=true&queryText=iot%20poultry'
          ]
        },
        {
          title: 'Low-cost Autonomous Irrigation Controller',
          idea: 'A microcontroller-based system using soil moisture and weather prediction to control irrigation and save water.',
          links: [
            'https://scholar.google.com/scholar?q=autonomous+irrigation+controller',
            'https://github.com/search?q=smart+irrigation',
            'https://www.researchgate.net/search?q=smart%20irrigation'
          ]
        },
        {
          title: 'Wearable Vital Signs Monitor for Rural Health',
          idea: 'A wearable device measuring heart rate, SpO2 and temperature that syncs to a mobile app for remote patient monitoring.',
          links: [
            'https://scholar.google.com/scholar?q=wearable+vital+signs+monitor',
            'https://github.com/search?q=wearable+health',
            'https://ieeexplore.ieee.org/search/searchresult.jsp?newsearch=true&queryText=wearable%20health'
          ]
        }
      ],
      hybrid: [
        {
          title: 'Smart Barn: Integrated Sensor Network + Management Portal',
          idea: 'Combine edge devices for environment sensing with a management web portal for small-scale farmers to optimize livestock well-being.',
          links: [
            'https://scholar.google.com/scholar?q=smart+barn+iot',
            'https://github.com/search?q=smart+barn',
            'https://www.researchgate.net/search?q=smart%20farm'
          ]
        },
        {
          title: 'Autonomous Delivery Robot with Cloud Orchestration',
          idea: 'A ground robot capable of local navigation and cloud-based scheduling, with a dashboard for fleet management.',
          links: [
            'https://scholar.google.com/scholar?q=autonomous+delivery+robot',
            'https://github.com/search?q=delivery+robot',
            'https://ieeexplore.ieee.org/search/searchresult.jsp?newsearch=true&queryText=delivery%20robot'
          ]
        },
        {
          title: 'Air Quality Monitoring Network with Predictive Analytics',
          idea: 'Deploy low-cost sensors across a town feeding a cloud ML model to predict pollution spikes and inform citizens.',
          links: [
            'https://scholar.google.com/scholar?q=air+quality+monitoring+ml',
            'https://github.com/search?q=air+quality+monitoring',
            'https://www.researchgate.net/search?q=air%20quality%20monitoring'
          ]
        }
      ]
    };

    // ======== DOM Elements ========
    const generateBtn = document.getElementById('generateBtn');
    const resultEl = document.getElementById('result');
    const titleEl = document.getElementById('title');
    const ideaEl = document.getElementById('idea');
    const relatedLinksEl = document.getElementById('relatedLinks');
    const copyBtn = document.getElementById('copyBtn');
    const openLinksBtn = document.getElementById('openLinksBtn');
    const savedListEl = document.getElementById('savedList');
    const saveBtn = document.getElementById('saveBtn');
    const clearBtn = document.getElementById('clearBtn');

    // localStorage key
    const STORAGE_KEY = 'wxyz_capstone_history_v1';

    // in-memory last generated item
    let lastGenerated = null;

    // ======== Utility helpers ========
    function getSelectedKind(){
      return document.querySelector('input[name="kind"]:checked').value;
    }

    function rand(arr){
      return arr[Math.floor(Math.random()*arr.length)];
    }

    function saveHistoryItem(item){
      const items = loadHistory();
      items.unshift(item); // add to beginning
      // keep only latest 50
      if(items.length>50) items.length=50;
      localStorage.setItem(STORAGE_KEY, JSON.stringify(items));
      renderHistory();
    }

    function loadHistory(){
      try{
        const raw = localStorage.getItem(STORAGE_KEY);
        return raw ? JSON.parse(raw) : [];
      }catch(e){
        console.error('Failed to parse history',e);
        return [];
      }
    }

    function clearHistory(){
      localStorage.removeItem(STORAGE_KEY);
      renderHistory();
    }

    // ======== Rendering ========
    function renderResult(obj){
      if(!obj) return;
      titleEl.textContent = obj.title;
      ideaEl.textContent = obj.idea;

      // show related links
      relatedLinksEl.innerHTML = '';
      if(obj.links && obj.links.length){
        obj.links.slice(0,3).forEach((l,idx)=>{
          const a = document.createElement('a');
          a.href = l; a.target = '_blank'; a.rel='noopener';
          a.textContent = ['Google Scholar','GitHub','IEEE/Research'][idx] || `Link ${idx+1}`;
          // small description hover
          a.title = l;
          relatedLinksEl.appendChild(a);
        })
      }

      // show panel with fade-in
      resultEl.classList.add('show');

      // store lastGenerated
      lastGenerated = obj;
    }

    function renderHistory(){
      const items = loadHistory();
      savedListEl.innerHTML = '';
      if(items.length===0){
        savedListEl.innerHTML = '<div class="muted">No saved ideas yet. Press "Save Last" after generating.</div>';
        return;
      }
      items.forEach((it, index)=>{
        const div = document.createElement('div');
        div.className='item';
        div.innerHTML = `
          <div>
            <div style="font-weight:700">${escapeHtml(it.title)}</div>
            <div class="meta">${escapeHtml(it.idea)}</div>
          </div>
          <div style="display:flex;flex-direction:column;gap:6px;align-items:flex-end">
            <div class="small muted">${new Date(it.createdAt).toLocaleString()}</div>
            <div style="display:flex;gap:6px">
              <button class="ghost" data-action="open" data-idx="${index}">Open</button>
              <button class="ghost" data-action="del" data-idx="${index}">Delete</button>
            </div>
          </div>
        `;
        savedListEl.appendChild(div);
      });

      // attach event listeners for open/delete
      savedListEl.querySelectorAll('button').forEach(btn=>{
        btn.addEventListener('click', (e)=>{
          const action = btn.getAttribute('data-action');
          const idx = Number(btn.getAttribute('data-idx'));
          if(action==='open'){
            const items = loadHistory();
            const item = items[idx];
            if(item) renderResult(item);
          }else if(action==='del'){
            const items = loadHistory();
            items.splice(idx,1);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(items));
            renderHistory();
          }
        })
      });
    }

    // escape HTML for safe insertion
    function escapeHtml(str){
      return String(str).replace(/[&<>\"']/g, function(s){
        return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"})[s];
      });
    }

    // ======== Actions ========
    generateBtn.addEventListener('click', ()=>{
      const kind = getSelectedKind();
      const pool = DATA[kind] || [];
      if(pool.length===0){
        alert('No items in this category.');
        return;
      }
      const picked = rand(pool);

      // create object with timestamp and deep copy of links
      const obj = {title: picked.title, idea: picked.idea, links: picked.links.slice(), createdAt: Date.now(), kind };
      renderResult(obj);
    });

    copyBtn.addEventListener('click', async ()=>{
      if(!lastGenerated) return;
      const text = `${lastGenerated.title}\n\n${lastGenerated.idea}`;
      try{
        await navigator.clipboard.writeText(text);
        copyBtn.textContent = 'Copied';
        setTimeout(()=>copyBtn.textContent='Copy',1200);
      }catch(e){
        // fallback
        const ta = document.createElement('textarea'); ta.value=text; document.body.appendChild(ta); ta.select();
        try{document.execCommand('copy'); copyBtn.textContent='Copied'; setTimeout(()=>copyBtn.textContent='Copy',1200);}catch(err){alert('Copy failed');}
        ta.remove();
      }
    });

    openLinksBtn.addEventListener('click', ()=>{
      if(!lastGenerated || !lastGenerated.links) return;
      lastGenerated.links.slice(0,3).forEach(l=>window.open(l,'_blank'));
    });

    saveBtn.addEventListener('click', ()=>{
      if(!lastGenerated) { alert('No generated idea to save. Press Generate Idea first.'); return; }
      saveHistoryItem(lastGenerated);
      // small feedback
      saveBtn.textContent = 'Saved';
      setTimeout(()=>saveBtn.textContent='Save Last',900);
    });

    clearBtn.addEventListener('click', ()=>{
      if(!confirm('Clear saved history?')) return;
      clearHistory();
    });

    // ======== Init ========
    // render existing history on load
    renderHistory();

    // Press Enter on Generate button when focused
    generateBtn.addEventListener('keyup', (e)=>{ if(e.key==='Enter') generateBtn.click(); });

    // small accessibility: allow selecting the saved item by clicking text
    savedListEl.addEventListener('click', (e)=>{
      // handled by buttons; otherwise no-op
    });

    // Pre-generate one sample for nicer first impression
    (function prefill(){
      const initial = {title:'Try "Smart Attendance System with Facial Recognition"', idea:'Click Generate to produce a real suggestion tailored to your chosen category.', links:[], createdAt: Date.now()};
      titleEl.textContent = initial.title;
      ideaEl.textContent = initial.idea;
      resultEl.classList.add('show');
    })();

    // ======== End of script ========
  </script>
</body>
</html>
